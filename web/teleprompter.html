<!DOCTYPE html>
<html>
	<head>
		<script>
			const PORT = "%PORT%"
			const ws = new WebSocket(`ws://localhost:${PORT}`)

			ws.onopen = () => {
				console.log("Connected to the server")
				let x = 0
				setInterval(() => {
					ws.send(`Loop ${x++}`)
				}, 1000)
			}

			ws.onmessage = (message) => {
				console.log("Received message: ", message.data)
			}

			ws.onclose = () => {
				console.log("Disconnected from the server")
			}
		</script>
	</head>
</html>